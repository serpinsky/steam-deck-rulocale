# Настройка русской локали в режиме рабочего стола Steam Deck
Из коробки режим рабочего стола Steam Deck имеет только две локали: американскую и канадскую. Установить какую либо иную с помощью интерфейса управления настройками операционной системы не получится. 
Это руководство поможет установить русскую (и любую другую) локаль на ваш Steam Deck.

Для удобства рекомендуется подключить клавитуру и мышь.
### Переходим в Desktop Mode 
В игровом режиме Steam Deck нажимаем кнопку выключения и переходим в режим рабочего стола Steam OS.
### Настраиваем пароль суперпользователя
Все манипуляции с системными настройками потребуют использования пароля режима повышенных привелегий (sudo). Из коробки этот пароль не задан.
1. Открываем терминал (Konsole) terminal
2. В терминале вводим команду: 
    >passwd

3. Создаём новый пароль и вводим его повторно
 
### Отключаем защиту системного раздела ОС
В Steam OS используется дополнительных механизм защиты конфигурации операционной системы. Для внесения изменений в системные настройки необходимо отключить защиту от изменений. 
1. Открываем Консоль (терминал)
2. В терминале вводим команду 
    > sudo steamos-readonly disable

### Переустанавливаем glibc 
1. В терминале вводим команды:
    >sudo pacman-key --init
    
    >sudo pacman-key --populate archlinux
    
    >sudo pacman -Syu glibc

2. Соглашаемся с запросом на скачивание необходимых пакетов
### Редактируем файл генерации локалей
1. Переходим в режим редактирования файла генерации:
    >sudo nano /etc/locale.gen

2. Необходимо раскоментировать строку (убрать знак решётки) в строках en_US.UTF-8 и ru_RU.UTF-8
3. Сохраняем файл Ctrl+o
4. Выходим из режима редактирования Ctrl+x

### Генерируем необходимые локали
1. В терминале вводим команду создания необходимых локалей
    > sudo locale-gen

### Редактируем конфигурационный файл локалей
1. Переходим в режим редактирования файла конфигурации локалей:
    >sudo nano /etc/locale.conf

2. Выполняем замену LANG=en_US.UTF-8 на LANG=ru_RU.UTF-8

3. Сохраняем файл Ctrl+o
4. Выходим из режима редактирования Ctrl+x

### Устанавливаем необходимую локаль
1. В терминале вводим команды
    >sudo localectl set-locale ru_RU.UTF-8
    
    >sudo rm ~/.config/plasma-localerc

### Включаем защиту системного раздела ОС
Для предотвращения сброса выполненных настроек возвращаем защиту конфига ОС
1. В терминале вводим команду
    >sudo steamos-readonly enable

### Перезагружаем консоль
